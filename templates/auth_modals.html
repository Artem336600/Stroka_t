<!-- Модальное окно авторизации/регистрации -->
<div class="modal fade" id="authModal" tabindex="-1" aria-labelledby="authModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content auth-modal">
            <div class="modal-header">
                <h5 class="modal-title" id="authModalLabel">Вход в аккаунт</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-0">
                <!-- Вкладки Вход/Регистрация -->
                <ul class="nav nav-tabs auth-tabs nav-fill" id="authTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link auth-tab active" id="login-tab" data-bs-toggle="tab" data-bs-target="#loginForm" type="button" role="tab" aria-controls="loginForm" aria-selected="true">Вход</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link auth-tab" id="register-tab" data-bs-toggle="tab" data-bs-target="#registerForm" type="button" role="tab" aria-controls="registerForm" aria-selected="false">Регистрация</button>
                    </li>
                </ul>

                <div class="tab-content" id="authTabsContent">
                    <!-- Форма входа -->
                    <div class="tab-pane fade show active auth-form" id="loginForm" role="tabpanel" aria-labelledby="login-tab">
                        <div class="form-group">
                            <label for="loginUsername">Telegram-имя пользователя</label>
                            <div class="input-icon-wrap">
                                <i class="bi bi-telegram input-icon"></i>
                                <input type="text" id="loginUsername" class="form-control" placeholder="Введите @username">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Пароль</label>
                            <div class="input-icon-wrap">
                                <i class="bi bi-lock input-icon"></i>
                                <input type="password" id="loginPassword" class="form-control" placeholder="Введите ваш пароль">
                                <button type="button" class="password-toggle" data-target="loginPassword">
                                    <i class="bi bi-eye"></i>
                                </button>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="button" id="loginBtn" class="auth-submit-btn">
                                <span>Войти</span>
                                <i class="bi bi-box-arrow-in-right ms-2"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Многошаговая регистрация -->
                    <div class="tab-pane fade auth-form" id="registerForm" role="tabpanel" aria-labelledby="register-tab">
                        <!-- Прогресс регистрации -->
                        <div class="registration-progress">
                            <div class="step-progress-bar">
                                <div class="step-progress-indicator" id="progressIndicator"></div>
                            </div>
                            <div class="steps-counter">
                                <span id="currentStepNumber">1</span> из <span id="totalSteps">5</span>
                            </div>
                        </div>

                        <!-- Индикатор шагов -->
                        <div class="step-indicator">
                            <div class="step-dot active" data-step="1">
                                <div class="step-dot-inner"></div>
                                <div class="step-label">Telegram</div>
                            </div>
                            <div class="step-dot" data-step="2">
                                <div class="step-dot-inner"></div>
                                <div class="step-label">Проверка</div>
                            </div>
                            <div class="step-dot" data-step="3">
                                <div class="step-dot-inner"></div>
                                <div class="step-label">Пароль</div>
                            </div>
                            <div class="step-dot" data-step="4">
                                <div class="step-dot-inner"></div>
                                <div class="step-label">О себе</div>
                            </div>
                            <div class="step-dot" data-step="5">
                                <div class="step-dot-inner"></div>
                                <div class="step-label">Готово</div>
                            </div>
                        </div>

                        <!-- Шаг 1: Ввод Telegram-имени -->
                        <div class="register-step active" id="step1">
                            <h3 class="step-title">Введите ваше Telegram-имя</h3>
                            <p class="step-description">Мы свяжем ваш аккаунт с Telegram для безопасной регистрации</p>
                            
                            <div class="form-group">
                                <label for="regUsername">Telegram-имя пользователя</label>
                                <div class="input-icon-wrap">
                                    <i class="bi bi-telegram input-icon"></i>
                                    <input type="text" id="regUsername" class="form-control" placeholder="Введите @username">
                                </div>
                                <div class="form-text">Введите ваше имя пользователя в Telegram с символом @</div>
                            </div>
                            <div class="form-actions">
                                <div></div> <!-- Пустой элемент для выравнивания -->
                                <button type="button" id="step1NextBtn" class="auth-submit-btn">
                                    <span>Продолжить</span>
                                    <i class="bi bi-arrow-right ms-2"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Шаг 2: Подтверждение через Телеграм -->
                        <div class="register-step" id="step2">
                            <h3 class="step-title">Подтверждение в Telegram</h3>
                            <p class="step-description">Получите код подтверждения через нашего Telegram-бота</p>
                            
                            <div class="telegram-instructions">
                                <div class="telegram-instructions-header">
                                    <i class="bi bi-telegram"></i>
                                    <h4>Как подтвердить регистрацию</h4>
                                </div>
                                <div class="telegram-instructions-content">
                                    <p>Выполните следующие шаги для подтверждения:</p>
                                    <ol>
                                        <li><span class="step-number">1</span> Перейдите к нашему боту в Telegram</li>
                                        <li><span class="step-number">2</span> Отправьте боту команду <code>/start</code></li>
                                        <li><span class="step-number">3</span> Получите код и введите его ниже</li>
                                    </ol>
                                    
                                    <div class="telegram-bot-link">
                                        <a href="https://t.me/TREOSCOMPANY_bot" target="_blank" class="telegram-link">
                                            <i class="bi bi-telegram"></i>
                                            <span>Открыть Telegram-бот</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="confirmationCode">Код подтверждения</label>
                                <div class="input-icon-wrap">
                                    <i class="bi bi-shield-check input-icon"></i>
                                    <input type="text" id="confirmationCode" class="form-control" placeholder="Введите 6-значный код">
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="button" id="step2BackBtn" class="auth-back-btn">
                                    <i class="bi bi-arrow-left"></i>
                                </button>
                                <button type="button" id="step2NextBtn" class="auth-submit-btn">
                                    <span>Подтвердить</span>
                                    <i class="bi bi-check-lg ms-2"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Шаг 3: Создание пароля -->
                        <div class="register-step" id="step3">
                            <h3 class="step-title">Создайте пароль</h3>
                            <p class="step-description">Придумайте надежный пароль для вашего аккаунта</p>
                            
                            <div class="form-group">
                                <label for="regPassword">Пароль</label>
                                <div class="input-icon-wrap">
                                    <i class="bi bi-lock input-icon"></i>
                                    <input type="password" id="regPassword" class="form-control" placeholder="Минимум 8 символов">
                                    <button type="button" class="password-toggle" data-target="regPassword">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                </div>
                                <div class="password-strength">
                                    <div class="strength-bar" id="passwordStrengthBar" data-strength="0"></div>
                                    <div class="strength-text" id="passwordStrengthText" data-strength="0">Введите пароль</div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="regPasswordConfirm">Подтвердите пароль</label>
                                <div class="input-icon-wrap">
                                    <i class="bi bi-shield-lock input-icon"></i>
                                    <input type="password" id="regPasswordConfirm" class="form-control" placeholder="Повторите пароль">
                                    <button type="button" class="password-toggle" data-target="regPasswordConfirm">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="button" id="step3BackBtn" class="auth-back-btn">
                                    <i class="bi bi-arrow-left"></i>
                                </button>
                                <button type="button" id="step3NextBtn" class="auth-submit-btn">
                                    <span>Продолжить</span>
                                    <i class="bi bi-arrow-right ms-2"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Шаг 4: Анализ описания проекта -->
                        <div id="step4" class="register-step">
                            <h3 class="step-title">Расскажите о себе</h3>
                            <p class="step-description">Опишите свои интересы, навыки и опыт, и мы автоматически подберем подходящие теги.</p>
                            
                            <div class="input-container position-relative">
                                <textarea id="descriptionText" class="form-control" placeholder="Опишите ваши интересы, навыки, опыт работы..." maxlength="1500" rows="5"></textarea>
                                <div id="descriptionCharCounter" class="char-counter">0/500</div>
                            </div>
                            
                            <div class="analyze-container">
                                <button id="descriptionAnalyzeBtn" class="btn analyze-btn" type="button" disabled>
                                    <i class="bi bi-lightning-charge me-2"></i>Анализировать
                                </button>
                            </div>
                            
                            <div id="descriptionProgressContainer" class="progress-container" style="display: none;">
                                <div class="progress-bar">
                                    <div id="descriptionProgressIndicator" class="progress-indicator"></div>
                                </div>
                            </div>
                            
                            <div id="descriptionTagsSection" class="project-tags-section" style="display: none;">
                                <div class="results-header">
                                    <h4 class="section-title">Подходящие теги</h4>
                                    <button id="descriptionAddTagBtn" class="add-tag-btn">
                                        <i class="bi bi-plus-lg me-1"></i> Добавить тег
                                    </button>
                                </div>
                                <div id="descriptionTagsContainer" class="tags-container"></div>
                            </div>
                            
                            <div class="form-actions">
                                <button id="step4BackBtn" class="auth-back-btn" type="button">
                                    <i class="bi bi-arrow-left"></i>
                                </button>
                                <button id="step4NextBtn" class="auth-submit-btn" type="button">
                                    <span>Завершить</span>
                                    <i class="bi bi-check-lg ms-2"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Шаг 5: Успешная регистрация -->
                        <div class="register-step" id="step5">
                            <div class="success-message">
                                <div class="confetti"></div>
                                <i class="bi bi-check-circle-fill"></i>
                                <h3>Регистрация успешна!</h3>
                                <p>Ваш аккаунт успешно создан и вы автоматически вошли в систему.</p>
                                <button type="button" id="goToLoginBtn" class="auth-submit-btn">
                                    <span>Закрыть</span>
                                    <i class="bi bi-check-lg ms-2"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Модальное окно с тегами для проекта -->
<div id="description-tags-modal-overlay" class="tags-modal-overlay">
    <div id="description-tags-menu" class="tags-menu">
        <div class="tags-menu-header">
            <div class="tags-menu-title">Выберите теги для профиля</div>
            <i class="bi bi-x tags-menu-close" id="description-tags-menu-close"></i>
        </div>
        
        <div class="tags-menu-search">
            <input type="text" id="description-tags-search" placeholder="Поиск тегов...">
        </div>
        
        <div class="tags-menu-content">
            <div id="description-tags-menu-categories" class="tags-menu-categories">
                <!-- Категории тегов будут добавлены динамически -->
            </div>
        </div>
        
        <div class="tags-menu-footer">
            <button id="description-tags-menu-cancel" class="tags-menu-btn tags-menu-cancel">Отмена</button>
            <button id="description-tags-menu-apply" class="tags-menu-btn tags-menu-apply">Применить</button>
        </div>
    </div>
</div> 